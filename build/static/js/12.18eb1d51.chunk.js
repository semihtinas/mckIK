"use strict";(self.webpackChunkmuse_dashboard=self.webpackChunkmuse_dashboard||[]).push([[12],{9012:(e,t,a)=>{a.r(t),a.d(t,{default:()=>$});var r=a(9950),n=a(8902),l=a(3561),s=a(9654),o=a(5621),i=a(6004),c=a(7465),d=a(7094),p=a(1988),u=a(2056),m=a(7293),h=a(6550),f=a(6092),v=a(5355),y=a(6025),x=a(6823),g=a(8411),A=a(9378),j=a(3911),k=a(1967),S=a(7560),b=a(8349),T=a(9246),w=a(9051),O=a.n(w),z=a(4414);const{TabPane:E}=n.A,$=()=>{var e;const[t,a]=(0,r.useState)(null),[w,E]=(0,r.useState)(!0),[$,_]=(0,r.useState)([]),[C,I]=(0,r.useState)([]),[R,M]=(0,r.useState)({totalRequests:0,pendingRequests:0,approvedRequests:0,rejectedRequests:0,totalAmount:0,averageAmount:0}),[q,D]=(0,r.useState)(null),[N,B]=(0,r.useState)(!1),[F,H]=(0,r.useState)(""),[L,P]=(0,r.useState)({visible:!1,record:null}),[Y]=l.A.useForm();(0,r.useEffect)((()=>{(async()=>{try{const e=await T.A.get("http://localhost:5001/api/advance-requests/detailed-statistics",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});a(e.data)}catch(e){console.error("Error fetching statistics:",e),s.Ay.error("\u0130statistikler y\xfcklenirken hata olu\u015ftu")}finally{E(!1)}})()}),[]);const V=async()=>{try{const e=await T.A.get("http://localhost:5001/api/advance-requests/all",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});I(e.data)}catch(e){console.error("Error fetching all advance requests:",e),s.Ay.error("T\xfcm talepler y\xfcklenirken hata olu\u015ftu")}},K=async()=>{E(!0);try{const e=await T.A.get("http://localhost:5001/api/advance-requests/pending",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});_(e.data),await(async()=>{try{const e=await T.A.get("http://localhost:5001/api/advance-requests/statistics",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});M(e.data)}catch(e){console.error("Error fetching statistics:",e)}})()}catch(e){console.error("Error fetching advance requests:",e),s.Ay.error("Avans talepleri y\xfcklenirken hata olu\u015ftu")}finally{E(!1)}};(0,r.useEffect)((()=>{K(),V()}),[]);const X=async e=>{try{await T.A.put(`http://localhost:5001/api/advance-requests/${q.id}/${e}`,{approval_reason:F},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),s.Ay.success("Talep ba\u015far\u0131yla "+("approve"===e?"onayland\u0131":"reddedildi")),B(!1),D(null),H(""),K(),V()}catch(t){console.error("Error updating advance request:",t),s.Ay.error("\u0130\u015flem s\u0131ras\u0131nda bir hata olu\u015ftu")}},G=[{title:"Personel",dataIndex:"personnel_name",key:"personnel_name"},{title:"Talep Tarihi",dataIndex:"request_date",key:"request_date",render:e=>O()(e).format("DD.MM.YYYY HH:mm"),sorter:(e,t)=>O()(e.request_date).unix()-O()(t.request_date).unix()},{title:"Tutar",dataIndex:"amount",key:"amount",render:e=>`\u20ba${null===e||void 0===e?void 0:e.toLocaleString()}`,sorter:(e,t)=>e.amount-t.amount},{title:"Durum",dataIndex:"status",key:"status",render:e=>(0,z.jsx)(o.A,{color:{pending:"gold",approved:"green",rejected:"red",paid:"cyan"}[e],children:{pending:"Beklemede",approved:"Onayland\u0131",rejected:"Reddedildi",paid:"\xd6dendi"}[e]}),filters:[{text:"Beklemede",value:"pending"},{text:"Onayland\u0131",value:"approved"},{text:"Reddedildi",value:"rejected"},{text:"\xd6dendi",value:"paid"}],onFilter:(e,t)=>t.status===e},{title:"Talep Nedeni",dataIndex:"reason",key:"reason",ellipsis:!0},{title:"\u0130\u015flem Yapan",dataIndex:"approved_by_name",key:"approved_by_name",render:(e,t)=>e||"-"},{title:"\u0130\u015flem Tarihi",dataIndex:"approved_date",key:"approved_date",render:e=>e?O()(e).format("DD.MM.YYYY HH:mm"):"-",sorter:(e,t)=>e.approved_date?t.approved_date?O()(e.approved_date).unix()-O()(t.approved_date).unix():-1:1},{title:"Onay/Red Nedeni",dataIndex:"approval_reason",key:"approval_reason",ellipsis:!0,render:e=>e||"-"},{title:"\u0130\u015flemler",key:"actions",render:(e,t)=>(0,z.jsxs)(i.A,{children:["approved"===t.status&&!t.payment_date&&(0,z.jsx)(c.Ay,{type:"primary",icon:(0,z.jsx)(g.A,{}),onClick:()=>P({visible:!0,record:t}),children:"\xd6de"}),"paid"===t.status&&(0,z.jsx)(o.A,{color:"green",children:"\xd6dendi"}),(0,z.jsx)(c.Ay,{type:"link",onClick:()=>handleViewDocuments(t),children:"D\xf6k\xfcmanlar"})]})}],J=[{title:"Personel",dataIndex:"personnel_name",key:"personnel_name"},{title:"Talep Tarihi",dataIndex:"request_date",key:"request_date",render:e=>O()(e).format("DD.MM.YYYY HH:mm")},{title:"Tutar",dataIndex:"amount",key:"amount",render:e=>`\u20ba${null===e||void 0===e?void 0:e.toLocaleString()}`},{title:"Durum",dataIndex:"status",key:"status",render:e=>(0,z.jsx)(o.A,{color:{pending:"gold",approved:"green",rejected:"red",paid:"cyan"}[e],children:{pending:"Beklemede",approved:"Onayland\u0131",rejected:"Reddedildi",paid:"\xd6dendi"}[e]})},{title:"\u0130\u015flemler",key:"actions",render:(e,t)=>(0,z.jsxs)(i.A,{children:["pending"===t.status&&(0,z.jsx)(c.Ay,{type:"primary",onClick:()=>{D(t),B(!0)},children:"\u0130\u015flem Yap"}),"approved"===t.status&&!t.payment_date&&(0,z.jsx)(c.Ay,{type:"primary",icon:(0,z.jsx)(g.A,{}),onClick:()=>P({visible:!0,record:t}),children:"\xd6de"}),(0,z.jsx)(c.Ay,{type:"link",onClick:()=>handleViewDocuments(t),children:"D\xf6k\xfcmanlar"})]})}],Q=()=>(0,z.jsxs)(d.A,{gutter:16,style:{marginBottom:24},children:[(0,z.jsx)(p.A,{span:6,children:(0,z.jsx)(u.A,{children:(0,z.jsx)(m.A,{title:"Toplam Talep",value:R.totalRequests,prefix:(0,z.jsx)(A.A,{})})})}),(0,z.jsx)(p.A,{span:6,children:(0,z.jsx)(u.A,{children:(0,z.jsx)(m.A,{title:"Bekleyen Talepler",value:R.pendingRequests,prefix:(0,z.jsx)(j.A,{style:{color:"#faad14"}}),valueStyle:{color:"#faad14"}})})}),(0,z.jsx)(p.A,{span:6,children:(0,z.jsx)(u.A,{children:(0,z.jsx)(m.A,{title:"Onaylanan Talepler",value:R.approvedRequests,prefix:(0,z.jsx)(k.A,{style:{color:"#52c41a"}}),valueStyle:{color:"#52c41a"}})})}),(0,z.jsx)(p.A,{span:6,children:(0,z.jsx)(u.A,{children:(0,z.jsx)(m.A,{title:"Reddedilen Talepler",value:R.rejectedRequests,prefix:(0,z.jsx)(S.A,{style:{color:"#ff4d4f"}}),valueStyle:{color:"#ff4d4f"}})})}),(0,z.jsx)(p.A,{span:6,style:{marginTop:16},children:(0,z.jsx)(u.A,{children:(0,z.jsx)(m.A,{title:"\xd6denen Talepler",value:R.paidRequests||0,prefix:(0,z.jsx)(g.A,{style:{color:"#1890ff"}}),valueStyle:{color:"#1890ff"}})})}),(0,z.jsx)(p.A,{span:6,style:{marginTop:16},children:(0,z.jsx)(u.A,{children:(0,z.jsx)(m.A,{title:"\xd6denen Toplam Tutar",value:R.paidAmount||0,prefix:"\u20ba",precision:2,valueStyle:{color:"#3f8600"}})})}),(0,z.jsx)(p.A,{span:6,style:{marginTop:16},children:(0,z.jsx)(u.A,{children:(0,z.jsx)(m.A,{title:"Toplam Talep Edilen Tutar",value:R.totalAmount,prefix:"\u20ba",precision:2})})}),(0,z.jsx)(p.A,{span:6,style:{marginTop:16},children:(0,z.jsx)(u.A,{children:(0,z.jsx)(m.A,{title:"Ortalama Talep Tutar\u0131",value:R.averageAmount,prefix:"\u20ba",precision:2})})})]}),U=[{key:"1",label:"\xd6zet",children:(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Q,{}),(0,z.jsx)(u.A,{title:"Bekleyen Talepler",style:{marginTop:24},children:(0,z.jsx)(h.A,{columns:J,dataSource:$,rowKey:"id",loading:w})})]})},{key:"2",label:"T\xfcm Talepler",children:(0,z.jsx)(h.A,{columns:G,dataSource:C,rowKey:"id",loading:w,pagination:{pageSize:10},scroll:{x:1300}})}];return(0,z.jsxs)("div",{style:{padding:24},children:[(0,z.jsx)(n.A,{items:U,defaultActiveKey:"1"}),(0,z.jsx)(f.A,{title:"Avans Talebi \u0130\u015flemi",open:N,onCancel:()=>{B(!1),D(null),H("")},footer:[(0,z.jsx)(c.Ay,{type:"primary",danger:!0,onClick:()=>X("reject"),children:"Reddet"},"reject"),(0,z.jsx)(c.Ay,{type:"primary",onClick:()=>X("approve"),children:"Onayla"},"approve")],children:q&&(0,z.jsxs)("div",{children:[(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Personel:"})," ",q.personnel_name]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Tutar:"})," \u20ba",null===(e=q.amount)||void 0===e?void 0:e.toLocaleString()]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("strong",{children:"Talep Nedeni:"})," ",q.reason]}),(0,z.jsx)(v.A.TextArea,{rows:4,placeholder:"Onay/Red nedeni",value:F,onChange:e=>H(e.target.value),style:{marginTop:16}})]})}),(0,z.jsx)(f.A,{title:"Avans \xd6demesi",open:L.visible,onCancel:()=>{P({visible:!1,record:null}),Y.resetFields()},footer:null,width:600,children:(0,z.jsxs)(l.A,{form:Y,onFinish:async e=>{try{E(!0);const t=new FormData;t.append("payment_method",e.payment_method),t.append("description",e.description||""),e.files&&e.files.fileList.forEach((e=>{t.append("files",e.originFileObj)}));if(!(await fetch(`http://localhost:5001/api/advance-requests/${L.record.id}/pay`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t})).ok)throw new Error("\xd6deme i\u015flemi ba\u015far\u0131s\u0131z");s.Ay.success("\xd6deme ba\u015far\u0131yla tamamland\u0131"),P({visible:!1,record:null}),Y.resetFields(),K(),V()}catch(t){s.Ay.error(t.message)}finally{E(!1)}},layout:"vertical",children:[(0,z.jsx)(l.A.Item,{name:"payment_method",label:"\xd6deme Y\xf6ntemi",rules:[{required:!0,message:"L\xfctfen \xf6deme y\xf6ntemi se\xe7in"}],children:(0,z.jsxs)(y.A,{children:[(0,z.jsx)(y.A.Option,{value:"cash",children:"Nakit"}),(0,z.jsx)(y.A.Option,{value:"bank",children:"Banka"}),(0,z.jsx)(y.A.Option,{value:"credit_card",children:"Kredi Kart\u0131"})]})}),(0,z.jsx)(l.A.Item,{name:"description",label:"A\xe7\u0131klama",children:(0,z.jsx)(v.A.TextArea,{rows:4,placeholder:"\xd6deme ile ilgili notlar..."})}),(0,z.jsx)(l.A.Item,{name:"files",label:"\xd6deme Belgesi",valuePropName:"file",extra:"Dekont, fi\u015f vb. belgeler ekleyebilirsiniz",children:(0,z.jsxs)(x.A.Dragger,{multiple:!0,beforeUpload:()=>!1,accept:".pdf,.jpg,.jpeg,.png",maxCount:5,children:[(0,z.jsx)("p",{className:"ant-upload-drag-icon",children:(0,z.jsx)(b.A,{})}),(0,z.jsx)("p",{className:"ant-upload-text",children:"Dosya y\xfcklemek i\xe7in t\u0131klay\u0131n veya s\xfcr\xfckleyin"}),(0,z.jsx)("p",{className:"ant-upload-hint",children:"PDF, JPG, PNG formatlar\u0131n\u0131 destekler (Maks. 5 dosya)"})]})}),(0,z.jsx)(l.A.Item,{className:"text-right",children:(0,z.jsxs)(i.A,{children:[(0,z.jsx)(c.Ay,{onClick:()=>{P({visible:!1,record:null}),Y.resetFields()},children:"\u0130ptal"}),(0,z.jsx)(c.Ay,{type:"primary",htmlType:"submit",loading:w,children:"\xd6demeyi Tamamla"})]})})]})})]})}},1967:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(8168),n=a(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var s=a(5085),o=function(e,t){return n.createElement(s.A,(0,r.A)({},e,{ref:t,icon:l}))};const i=n.forwardRef(o)},3911:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(8168),n=a(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};var s=a(5085),o=function(e,t){return n.createElement(s.A,(0,r.A)({},e,{ref:t,icon:l}))};const i=n.forwardRef(o)},7560:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(8168),n=a(9950);const l={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var s=a(5085),o=function(e,t){return n.createElement(s.A,(0,r.A)({},e,{ref:t,icon:l}))};const i=n.forwardRef(o)},8411:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(8168),n=a(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};var s=a(5085),o=function(e,t){return n.createElement(s.A,(0,r.A)({},e,{ref:t,icon:l}))};const i=n.forwardRef(o)},8349:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(8168),n=a(9950);const l={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"};var s=a(5085),o=function(e,t){return n.createElement(s.A,(0,r.A)({},e,{ref:t,icon:l}))};const i=n.forwardRef(o)},9378:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(8168),n=a(9950);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};var s=a(5085),o=function(e,t){return n.createElement(s.A,(0,r.A)({},e,{ref:t,icon:l}))};const i=n.forwardRef(o)},1988:(e,t,a)=>{a.d(t,{A:()=>r});const r=a(5352).A},7094:(e,t,a)=>{a.d(t,{A:()=>r});const r=a(8786).A},7293:(e,t,a)=>{a.d(t,{A:()=>T});var r=a(9950),n=a(2413),l=a(9156),s=a(8738),o=a.n(s),i=a(2795),c=a(5741),d=a(7895);const p=e=>{const{value:t,formatter:a,precision:n,decimalSeparator:l,groupSeparator:s="",prefixCls:o}=e;let i;if("function"===typeof a)i=a(t);else{const e=String(t),a=e.match(/^(-?)(\d*)(\.(\d+))?$/);if(a&&"-"!==e){const e=a[1];let t=a[2]||"0",c=a[4]||"";t=t.replace(/\B(?=(\d{3})+(?!\d))/g,s),"number"===typeof n&&(c=c.padEnd(n,"0").slice(0,n>0?n:0)),c&&(c=`${l}${c}`),i=[r.createElement("span",{key:"int",className:`${o}-content-value-int`},e,t),c&&r.createElement("span",{key:"decimal",className:`${o}-content-value-decimal`},c)]}else i=e}return r.createElement("span",{className:`${o}-content-value`},i)};var u=a(5343),m=a(1900),h=a(7261);const f=e=>{const{componentCls:t,marginXXS:a,padding:r,colorTextDescription:n,titleFontSize:l,colorTextHeading:s,contentFontSize:o,fontFamily:i}=e;return{[t]:Object.assign(Object.assign({},(0,u.dF)(e)),{[`${t}-title`]:{marginBottom:a,color:n,fontSize:l},[`${t}-skeleton`]:{paddingTop:r},[`${t}-content`]:{color:s,fontSize:o,fontFamily:i,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:a},[`${t}-content-suffix`]:{marginInlineStart:a}}})}},v=(0,m.OF)("Statistic",(e=>{const t=(0,h.oX)(e,{});return[f(t)]}),(e=>{const{fontSizeHeading3:t,fontSize:a}=e;return{titleFontSize:a,contentFontSize:t}}));var y=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};const x=e=>{const{prefixCls:t,className:a,rootClassName:n,style:l,valueStyle:s,value:u=0,title:m,valueRender:h,prefix:f,suffix:x,loading:g=!1,formatter:A,precision:j,decimalSeparator:k=".",groupSeparator:S=",",onMouseEnter:b,onMouseLeave:T}=e,w=y(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:O,direction:z,statistic:E}=r.useContext(c.QO),$=O("statistic",t),[_,C,I]=v($),R=r.createElement(p,{decimalSeparator:k,groupSeparator:S,prefixCls:$,formatter:A,precision:j,value:u}),M=o()($,{[`${$}-rtl`]:"rtl"===z},null===E||void 0===E?void 0:E.className,a,n,C,I),q=(0,i.A)(w,{aria:!0,data:!0});return _(r.createElement("div",Object.assign({},q,{className:M,style:Object.assign(Object.assign({},null===E||void 0===E?void 0:E.style),l),onMouseEnter:b,onMouseLeave:T}),m&&r.createElement("div",{className:`${$}-title`},m),r.createElement(d.A,{paragraph:!1,loading:g,className:`${$}-skeleton`},r.createElement("div",{style:s,className:`${$}-content`},f&&r.createElement("span",{className:`${$}-content-prefix`},f),h?h(R):R,x&&r.createElement("span",{className:`${$}-content-suffix`},x)))))},g=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function A(e,t){const{format:a=""}=t,r=new Date(e).getTime(),n=Date.now();return function(e,t){let a=e;const r=/\[[^\]]*]/g,n=(t.match(r)||[]).map((e=>e.slice(1,-1))),l=t.replace(r,"[]"),s=g.reduce(((e,t)=>{let[r,n]=t;if(e.includes(r)){const t=Math.floor(a/n);return a-=t*n,e.replace(new RegExp(`${r}+`,"g"),(e=>{const a=e.length;return t.toString().padStart(a,"0")}))}return e}),l);let o=0;return s.replace(r,(()=>{const e=n[o];return o+=1,e}))}(Math.max(r-n,0),a)}var j=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};const k=1e3/30;const S=e=>{const{value:t,format:a="HH:mm:ss",onChange:s,onFinish:o}=e,i=j(e,["value","format","onChange","onFinish"]),c=(0,n.A)(),d=r.useRef(null),p=()=>{const e=function(e){return new Date(e).getTime()}(t);e>=Date.now()&&(d.current=setInterval((()=>{c(),null===s||void 0===s||s(e-Date.now()),e<Date.now()&&(null===o||void 0===o||o(),d.current&&(clearInterval(d.current),d.current=null))}),k))};r.useEffect((()=>(p(),()=>{d.current&&(clearInterval(d.current),d.current=null)})),[t]);return r.createElement(x,Object.assign({},i,{value:t,valueRender:e=>(0,l.Ob)(e,{title:void 0}),formatter:(e,t)=>A(e,Object.assign(Object.assign({},t),{format:a}))}))},b=r.memo(S);x.Countdown=b;const T=x}}]);