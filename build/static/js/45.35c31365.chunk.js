"use strict";(self.webpackChunkmuse_dashboard=self.webpackChunkmuse_dashboard||[]).push([[45],{3426:(a,e,i)=>{i.r(e),i.d(e,{default:()=>f});var t=i(9950),l=i(8429),n=i(2074),s=i(9654),o=i(5376),r=i(3079),d=i(7465),c=i(2056),u=i(1967),y=i(7560),p=i(9246),h=i(4414);const g=p.A.create({baseURL:"http://localhost:5001"}),f=()=>{const{meetingId:a}=(0,l.g)(),[e]=(0,n.ok)(),[i,p]=((0,l.Zp)(),(0,t.useState)(!0)),[f,k]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[m,v]=(0,t.useState)(!1),j=e.get("response"),A=e.get("token");(0,t.useEffect)((()=>{j&&A&&!m&&(z(),w())}),[]);const z=async()=>{if(j&&A&&!m)try{p(!0);const i=await g.put(`/api/public/meetings/${a}/respond`,{response:j,token:A});var e;if(i.data.success)null!==(e=i.data.message)&&void 0!==e&&e.includes("already")||s.Ay.success("Yan\u0131t\u0131n\u0131z ba\u015far\u0131yla kaydedildi"),v(!0)}catch(x){var i,t,l,n,o;console.error("Error details:",null===(i=x.response)||void 0===i?void 0:i.data),b((null===(t=x.response)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.details)||(null===(n=x.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error)||"Yan\u0131t\u0131n\u0131z kaydedilirken bir hata olu\u015ftu")}finally{p(!1)}},w=async()=>{if(!f)try{const e=await g.get(`/api/public/meetings/${a}`);k(e.data)}catch(x){console.error("Error fetching meeting details:",x),b("Toplant\u0131 bilgileri al\u0131namad\u0131")}finally{p(!1)}};return i?(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,h.jsx)(o.A,{size:"large"})}):x?(0,h.jsx)(r.Ay,{status:"error",title:"Bir hata olu\u015ftu",subTitle:x,extra:[(0,h.jsx)(d.Ay,{type:"primary",onClick:()=>window.location.href="/login",children:"Giri\u015f Yap"},"login")]}):(0,h.jsx)("div",{style:{maxWidth:800,margin:"40px auto",padding:"0 20px"},children:(0,h.jsx)(c.A,{children:"accepted"===j?(0,h.jsx)(r.Ay,{icon:(0,h.jsx)(u.A,{style:{color:"#52c41a"}}),title:"Toplant\u0131ya kat\u0131l\u0131m\u0131n\u0131z onayland\u0131",subTitle:f?`${f.title} toplant\u0131s\u0131na kat\u0131laca\u011f\u0131n\u0131z\u0131 bildirdiniz.`:"Yan\u0131t\u0131n\u0131z kaydedildi.",extra:[(0,h.jsx)(d.Ay,{type:"primary",onClick:()=>window.location.href="/login",children:"Giri\u015f Yap"},"login")]}):(0,h.jsx)(r.Ay,{icon:(0,h.jsx)(y.A,{style:{color:"#ff4d4f"}}),title:"Toplant\u0131ya kat\u0131lamayaca\u011f\u0131n\u0131z bildirildi",subTitle:f?`${f.title} toplant\u0131s\u0131na kat\u0131lamayaca\u011f\u0131n\u0131z\u0131 bildirdiniz.`:"Yan\u0131t\u0131n\u0131z kaydedildi.",extra:[(0,h.jsx)(d.Ay,{onClick:()=>window.location.href="/login",children:"Giri\u015f Yap"},"login")]})})})}}}]);